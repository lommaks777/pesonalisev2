# üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Railway

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é

### 1. –§–∞–π–ª—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã:
- ‚úÖ `railway.json` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
- ‚úÖ `index.php` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- ‚úÖ `config.php` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Railway:
```env
OPENAI_API_KEY=your_openai_api_key_here
KINESCOPE_API_KEY=your_kinescope_api_key_here
```

## üöÄ –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ Railway
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
1. –ù–∞–∂–º–∏—Ç–µ "New Project"
2. –í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `personalize`
4. –ù–∞–∂–º–∏—Ç–µ "Deploy"

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
1. –í –ø–∞–Ω–µ–ª–∏ Railway –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Variables"
2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `OPENAI_API_KEY` = –≤–∞—à –∫–ª—é—á OpenAI
   - `KINESCOPE_API_KEY` = –≤–∞—à –∫–ª—é—á Kinescope

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
1. –í –ø–∞–Ω–µ–ª–∏ Railway –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Settings"
2. –í —Ä–∞–∑–¥–µ–ª–µ "Domains" –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS –∑–∞–ø–∏—Å–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è Railway

```
/
‚îú‚îÄ‚îÄ railway.json          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Railway
‚îú‚îÄ‚îÄ index.php            # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ config.php           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–æ–±–Ω–æ–≤–ª–µ–Ω)
‚îú‚îÄ‚îÄ view_shvz_course.php # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫—É—Ä—Å–∞
‚îú‚îÄ‚îÄ survey_form.html     # –§–æ—Ä–º–∞ –∞–Ω–∫–µ—Ç—ã
‚îú‚îÄ‚îÄ select_lesson.php    # –í—ã–±–æ—Ä —É—Ä–æ–∫–∞
‚îú‚îÄ‚îÄ personalize_lesson.php # –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ process_survey.php   # API –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞–Ω–∫–µ—Ç
‚îú‚îÄ‚îÄ store/               # –î–∞–Ω–Ω—ã–µ –∫—É—Ä—Å–∞
‚îÇ   ‚îî‚îÄ‚îÄ –ú–∞—Å—Å–∞–∂ –®–í–ó/
‚îÇ       ‚îú‚îÄ‚îÄ course.json
‚îÇ       ‚îú‚îÄ‚îÄ videos/
‚îÇ       ‚îú‚îÄ‚îÄ audio/
‚îÇ       ‚îú‚îÄ‚îÄ transcripts/
‚îÇ       ‚îî‚îÄ‚îÄ descriptions/
‚îî‚îÄ‚îÄ ...
```

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Railway

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ
- ‚úÖ `process_video_optimized.php` - —É–¥–∞–ª—è–µ—Ç –≤–∏–¥–µ–æ –ø–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∞—É–¥–∏–æ
- ‚úÖ `process_course_optimized.php` - –º–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞: ~2-5 GB –Ω–∞ –∫—É—Ä—Å

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```json
{
  "build": {
    "builder": "NIXPACKS"
  },
  "deploy": {
    "startCommand": "php -S 0.0.0.0:$PORT",
    "healthcheckPath": "/",
    "healthcheckTimeout": 100
  }
}
```

## üåê –î–æ—Å—Ç—É–ø–Ω—ã–µ URL –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: `https://your-app.railway.app/`
- **–ö—É—Ä—Å**: `https://your-app.railway.app/view_shvz_course.php`
- **–ê–Ω–∫–µ—Ç–∞**: `https://your-app.railway.app/survey_form.html`
- **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: `https://your-app.railway.app/select_lesson.php`

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
1. –í –ø–∞–Ω–µ–ª–∏ Railway –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Deployments"
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "Logs"

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
  - –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–ø–ª–æ–∏
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏ push –≤ GitHub
- –í—Ä–µ–º—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è: ~2-3 –º–∏–Ω—É—Ç—ã

### –†—É—á–Ω—ã–µ –¥–µ–ø–ª–æ–∏
1. –í –ø–∞–Ω–µ–ª–∏ Railway –Ω–∞–∂–º–∏—Ç–µ "Redeploy"
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–º–∏—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

### Railway Pricing
- **Hobby Plan**: $5/–º–µ—Å—è—Ü
  - 512 MB RAM
  - 1 GB storage
  - –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞—Ç—Ä–∞—Ç
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–æ–≤ —ç–∫–æ–Ω–æ–º–∏—Ç ~80% –º–µ—Å—Ç–∞
- ‚úÖ –°–∂–∞—Ç–∏–µ –∞—É–¥–∏–æ –¥–æ 16kHz
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏–π

## üõ†Ô∏è Troubleshooting

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ 500**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway

2. **–ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –≤ `/store`
   - –£–¥–∞–ª–∏—Ç–µ –Ω–µ–Ω—É–∂–Ω—ã–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã

3. **–û—à–∏–±–∫–∏ API**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ OpenAI –∏ Kinescope
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã API

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
du -sh store/*

# –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
find store/ -name "*.mp4" -delete

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
php -r "require 'config.php'; var_dump(cfg());"
```

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É Railway –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

---
*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 6 –æ–∫—Ç—è–±—Ä—è 2025*
